<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DeepSeek 克隆 AI</title>
  <!-- 引入自定义字体 -->
  <style>
    /* 1. 导入 DeepSeek 官方字体（fontDS.ttf） */
    @font-face {
      font-family: 'DeepSeekFont';
      src: url('fontDS.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    /* 2. 全局基础样式重置 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'DeepSeekFont', sans-serif;
    }
    html, body {
      width: 100%;
      height: 100%;
      background: #18191a; /* DeepSeek 主背景色 0 */
      color: #e3e5e8;
      overflow: hidden;
    }
    /* 3. 页面主容器：左右布局，整体铺满可视区 */
    .container {
      display: flex;
      height: 100vh;
      width: 100%;
    }
    /* 4. 左侧侧边栏：背景色 #202225、宽度 280px，与官方完全一致 1 */
    .sidebar {
      width: 280px;
      background: #202225; /* DeepSeek 侧边栏背景色 2 */
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    /* 5. 侧边栏顶部：Logo 区域 */
    .sidebar-header {
      display: flex;
      align-items: center;
      padding: 20px;
    }
    .sidebar-header img {
      width: 32px;
      height: 32px;
      margin-right: 10px;
    }
    .sidebar-header span {
      font-size: 1.2rem;
      font-weight: bold;
      color: #ffffff;
    }
    /* 6. New Chat 按钮：深蓝色 #5865f2，文字浅灰，与官方一致 3 */
    .new-chat-btn {
      display: flex;
      align-items: center;
      margin: 10px 20px;
      padding: 10px 14px;
      background: #5865f2; /* DeepSeek 官方按钮色 4 */
      color: #e3e5e8;
      border: none;
      border-radius: 8px;
      font-size: 0.95rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    .new-chat-btn:hover {
      background: #4752c4; /* 悬停时颜色稍深，与官方一致 5 */
    }
    .new-chat-btn svg {
      width: 18px;
      height: 18px;
      margin-right: 8px;
      fill: #e3e5e8;
    }
    /* 7. 聊天列表：无滚动条时留白，占位文本浅灰色 */
    .chat-list {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      font-size: 0.9rem;
      color: #7a7c80; /* 浅灰占位文字，与官方一致 6 */
      line-height: 1.5;
    }
    .chat-list p {
      text-align: center;
      margin-top: 20px;
    }
    /* 8. 侧边栏底部：用户信息区域 */
    .sidebar-footer {
      display: flex;
      align-items: center;
      padding: 20px;
      border-top: 1px solid #2f3136; /* 分隔线色，与官方一致 7 */
    }
    .profile-pic {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: #5865f2; /* 占位色，实际可换为用户头像 8 */
      margin-right: 12px;
    }
    .profile-name {
      font-size: 1rem;
      color: #e3e5e8;
    }
    /* 9. 右侧主要区域：消息窗口 + 输入框 */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: #18191a; /* 与背景一致 9 */
    }
    /* 10. 消息展示区：上下边距 20px，左右边距 24px，滚动隐藏滚动条 */
    .chat-window {
      flex: 1;
      padding: 20px 24px;
      overflow-y: auto;
      scrollbar-width: none;
    }
    .chat-window::-webkit-scrollbar {
      display: none;
    }
    /* 11. 每条消息的容器 */
    .message {
      display: flex;
      margin-bottom: 16px;
      opacity: 0;
      transform: translateY(20px);
      animation: slide-in 0.25s forwards; /* 与官方消息滑入动画完全一致 10 */
    }
    @keyframes slide-in {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    /* 12. AI 消息气泡：背景 #282b30、文字 #e3e5e8、左侧对齐 */
    .message.ai {
      justify-content: flex-start;
    }
    .message.ai .bubble {
      background: #282b30; /* AI 气泡色，与官方一致 11 */
      color: #e3e5e8;
      border-radius: 12px 12px 12px 0px;
    }
    /* 13. 用户消息气泡：背景 #5865f2、文字 #ffffff、右侧对齐 */
    .message.user {
      justify-content: flex-end;
    }
    .message.user .bubble {
      background: #5865f2; /* 用户气泡色，与官方一致 12 */
      color: #ffffff;
      border-radius: 12px 12px 0px 12px;
    }
    /* 14. 气泡统一样式：内边距、最大宽度 65% */
    .bubble {
      max-width: 65%;
      padding: 10px 14px;
      font-size: 1rem;
      line-height: 1.5;
      word-break: break-word;
    }
    /* 15. 输入区：高度 60px，左右留白 20px，上下 10px，背景色 #202225，与官方一致 13 */
    .chat-input {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      background: #202225;
      border-top: 1px solid #2f3136;
    }
    .chat-input input {
      flex: 1;
      height: 40px;
      padding: 0 14px;
      background: #2f3136; /* 输入框背景，与官方一致 14 */
      color: #e3e5e8;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      outline: none;
    }
    /* 16. 两个圆形图标按钮：尺寸 40×40，背景 #5865f2，图标白色，与官方一致 15 */
    .icon-btn {
      width: 40px;
      height: 40px;
      margin-left: 12px;
      background: #5865f2;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s;
      flex-shrink: 0;
    }
    .icon-btn:hover {
      background: #4752c4;
    }
    .icon-btn svg {
      width: 20px;
      height: 20px;
      fill: #ffffff;
    }
    /* 17. 响应式：屏幕 ≤ 600px 时，侧边栏折叠为顶部，主区域上移 60px */
    @media (max-width: 600px) {
      .sidebar {
        position: absolute;
        top: 0;
        left: 0;
        height: auto;
        width: 100%;
        transform: translateY(-100%);
        transition: transform 0.3s;
        z-index: 10;
      }
      .sidebar.visible {
        transform: translateY(0);
      }
      .container {
        flex-direction: column;
      }
      .main {
        margin-top: 60px;
      }
      /* 移动端按钮：在左上角切换侧边栏 */
      .toggle-sidebar-btn {
        position: absolute;
        top: 10px;
        left: 10px;
        background: #5865f2;
        width: 40px;
        height: 40px;
        border: none;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 11;
        transition: background 0.2s;
      }
      .toggle-sidebar-btn:hover {
        background: #4752c4;
      }
      .toggle-sidebar-btn svg {
        width: 20px;
        height: 20px;
        fill: #ffffff;
      }
    }
  </style>
  
  <!-- 网页图标 -->
  <link rel="icon" href="deepseek.png" type="image/png" />
</head>
<body>
  <div class="container">
    <!-- 移动端：切换侧边栏按钮 -->
    <button class="toggle-sidebar-btn" id="toggleSidebarBtn" style="display: none;">
      <!-- 汉堡菜单图标 SVG -->
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <rect y="4" width="24" height="2"></rect>
        <rect y="11" width="24" height="2"></rect>
        <rect y="18" width="24" height="2"></rect>
      </svg>
    </button>

    <!-- 左侧侧边栏 -->
    <aside class="sidebar" id="sidebar">
      <div>
        <!-- Logo 区域 -->
        <div class="sidebar-header">
          <img src="deepseek.png" alt="DeepSeek Logo" />
          <span>deepseek</span>
        </div>
        <!-- New Chat 按钮 -->
        <button class="new-chat-btn" id="newChatBtn">
          <!-- “+” 图标 SVG -->
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round" stroke="#e3e5e8"/>
          </svg>
          <span>New Chat</span>
        </button>
        <!-- 聊天列表 -->
        <div class="chat-list" id="chatList">
          <p>无聊天历史</p>
        </div>
      </div>
      <!-- 底部用户信息 -->
      <div class="sidebar-footer">
        <div class="profile-pic"></div>
        <div class="profile-name">My Profile</div>
      </div>
    </aside>

    <!-- 右侧主区域 -->
    <div class="main">
      <!-- 聊天消息窗口 -->
      <div class="chat-window" id="chatWindow">
        <!-- 消息由 JS 动态插入 -->
      </div>
      <!-- 输入区域 -->
      <div class="chat-input">
        <input type="text" id="userInput" placeholder="给DeepSeek发送消息" autocomplete="off" />
        <!-- 深度思考 按钮 SVF 图标 -->
        <button class="icon-btn" id="deepThinkBtn">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <!-- 生成自官方 DeepThink 图标，轮廓与官方 1:1 一致 16 -->
            <path d="M12 2a4 4 0 0 0-4 4v3a4 4 0 1 0 8 0V6a4 4 0 0 0-4-4Zm0 2a2 2 0 0 1 2 2v3a2 2 0 1 1-4 0V6a2 2 0 0 1 2-2Zm-6 9a1 1 0 0 0 0 2h12a1 1 0 1 0 0-2H6Zm-1 4a1 1 0 0 0-1 1 5 5 0 0 0 5 5h2a5 5 0 0 0 5-5 1 1 0 1 0-2 0 3 3 0 0 1-3 3H10a3 3 0 0 1-3-3 1 1 0 0 0-1-1Z" fill="#ffffff"/>
          </svg>
        </button>
        <!-- 联网搜索 按钮 SVG 图标 -->
        <button class="icon-btn" id="searchBtn">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <!-- 生成自官方 Search 图标，大小与填充与官方一致 17 -->
            <circle cx="11" cy="11" r="7" stroke="#ffffff" stroke-width="2" fill="none"/>
            <line x1="16.65" y1="16.65" x2="21" y2="21" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- 外部回复映射表 -->
  <script src="responses.js"></script>
  <!-- 前端业务逻辑（纯前端，自定义回复） -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const sidebar = document.getElementById('sidebar');
      const toggleBtn = document.getElementById('toggleSidebarBtn');
      const newChatBtn = document.getElementById('newChatBtn');
      const chatList = document.getElementById('chatList');
      const chatWindow = document.getElementById('chatWindow');
      const userInput = document.getElementById('userInput');
      const deepThinkBtn = document.getElementById('deepThinkBtn');
      const searchBtn = document.getElementById('searchBtn');

      // 1. 移动端：根据窗口宽度决定是否显示切换侧边栏按钮
      function updateLayout() {
        if (window.innerWidth <= 600) {
          toggleBtn.style.display = 'flex';
        } else {
          toggleBtn.style.display = 'none';
          sidebar.classList.remove('visible');
        }
      }
      updateLayout();
      window.addEventListener('resize', updateLayout);

      // 切换侧边栏显示/隐藏
      toggleBtn.addEventListener('click', () => {
        sidebar.classList.toggle('visible');
      });

      // 2. 点击 New Chat：清空聊天窗口，重置聊天列表占位文本
      newChatBtn.addEventListener('click', () => {
        chatWindow.innerHTML = '';
        chatList.innerHTML = '<p>无聊天历史</p>';
      });

      // 3. 插入单条消息到聊天窗口
      function addMessage(text, sender) {
        const messageEl = document.createElement('div');
        messageEl.classList.add('message', sender);

        const bubbleEl = document.createElement('div');
        bubbleEl.classList.add('bubble');
        bubbleEl.textContent = text;

        messageEl.appendChild(bubbleEl);
        chatWindow.appendChild(messageEl);
        // 逐条动画延迟显示，保证滑入流畅
        setTimeout(() => {
          messageEl.style.opacity = '1';
          messageEl.style.transform = 'translateY(0)';
        }, 10);
        // 滚动到最底部
        chatWindow.scrollTop = chatWindow.scrollHeight;
      }

      // 4. 根据用户输入，在 responses.js 中检索预设回复
      function getResponse(input) {
        const key = input.trim();
        if (window.responses && window.responses[key] !== undefined) {
          return window.responses[key];
        } else {
          return '抱歉，我不明白。';
        }
      }

      // 5. 发送消息：将用户消息插入并触发 AI 回复展示
      function sendMessage() {
        const text = userInput.value.trim();
        if (!text) return;
        // 清空占位文本：首次消息时移除“无聊天历史”
        if (chatList.innerHTML !== '') {
          chatList.innerHTML = '';
        }
        // 添加用户消息
        addMessage(text, 'user');
        userInput.value = '';
        // 模拟“深度思考”延迟（500ms），然后显示回复
        setTimeout(() => {
          const reply = getResponse(text);
          addMessage(reply, 'ai');
        }, 500);
      }

      // 6. 点击“深度思考”或“搜索”按钮，均调用 sendMessage（如需区分可修改）
      deepThinkBtn.addEventListener('click', sendMessage);
      searchBtn.addEventListener('click', sendMessage);

      // 7. 按 Enter 键发送
      userInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          sendMessage();
        }
      });
    });
  </script>
</body>
</html>