<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>二维码生成器</title><script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;background:#f5f5f5}.qr-container{width:100%;max-width:500px;margin:20px auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.1)}.qr-controls{display:flex;flex-direction:column;gap:15px;margin-top:20px}.input-group{display:flex;flex-direction:column;gap:5px}input,select{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}button{padding:10px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button:hover{background:#0056b3}#qr-code{display:flex;justify-content:center;align-items:center;margin-top:20px}@media (max-width:768px){.qr-container{padding:10px;margin:10px}canvas{max-width:100%;height:auto}}</style></head><body><div class="qr-container"><div id="qr-code"></div><div class="qr-controls"><div class="input-group"><input type="text" id="qr-input" placeholder="输入文本或URL"></div><div class="input-group"><select id="theme-selector"><option value="classic">经典主题</option><option value="modern">现代主题</option><option value="gradient">渐变主题</option></select></div><div class="input-group"><input type="number" id="size-input" min="128" max="1024" value="300" placeholder="二维码大小"></div><div class="input-group"><input type="file" id="logo-input" accept="image/*"></div><button id="download-btn">下载二维码</button></div></div><script>const themes={classic:{dotsOptions:{color:"#000000",type:"square"},backgroundOptions:{color:"#ffffff"}},modern:{dotsOptions:{color:"#4285F4",type:"rounded"},backgroundOptions:{color:"#F8F9FA"}},gradient:{dotsOptions:{type:"dots",gradient:{type:"linear",colorStops:[{offset:0,color:"#FF5733"},{offset:1,color:"#FFC300"}]}},backgroundOptions:{color:"#ffffff"}}},CONFIG={MIN_SIZE:128,MAX_SIZE:1024,DEFAULT_SIZE:300};let qrCode=new QRCodeStyling({width:300,height:300,data:"请输入文本或URL",dotsOptions:{color:"#000000",type:"square"},backgroundOptions:{color:"#ffffff"},imageOptions:{crossOrigin:"anonymous",margin:20}});qrCode.append(document.getElementById("qr-code"));function validateQRSize(e){return e=parseInt(e),isNaN(e)?CONFIG.DEFAULT_SIZE:Math.min(Math.max(e,CONFIG.MIN_SIZE),CONFIG.MAX_SIZE)}function handleInput(e){const t=e.trim();if(t.length>2953)throw new Error("输入内容过长");qrCode.update({data:t})}document.getElementById("qr-input").addEventListener("input",e=>{handleInput(e.target.value)}),document.getElementById("theme-selector").addEventListener("change",e=>{const t=themes[e.target.value];qrCode.update(t)}),document.getElementById("size-input").addEventListener("input",e=>{const t=validateQRSize(e.target.value);qrCode.update({width:t,height:t})}),document.getElementById("logo-input").addEventListener("change",e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=function(e){qrCode.update({image:e.target.result})},e.readAsDataURL(t)}}),document.getElementById("download-btn").addEventListener("click",()=>{qrCode.download({name:"qrcode-"+Date.now(),extension:"png"})})</script></body></html>